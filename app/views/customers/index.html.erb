<div class="page-layout container-fluid">
  <div class="page-heading">
    <h2>Customers</h2>
  </div>

  <div class="page-action">
    <div class="action-bar">
      <%= link_to "+ New", new_customer_path, type: "button", class: "btn btn-dark" %>
    </div>
  </div>

  <div class="page-body container-fluid">
    <table class="table table-hover">
      <thead>
        <tr>
          <th scope="col">Service Area</th>
          <th scope="col">Customer Name</th>
          <th scope="col">Credit Limit</th>
          <th scope="col">Status</th>
          <th scope="col">Contact</th>
          <th scope="col"></th>
          <th scope="col"></th>
        </tr>
      </thead>
      <tbody>
        <% @customers.each do |customer| %>
          <tr>
            <td><%= customer.service_area.name %></td>
            <td><%= link_to customer.name, customer_path(customer) %></td>
            <td><%= customer.credit_limit.presence || not_applicable %></td>
            <td><span class="badge bg-<%= customer.active? ? 'success' : 'danger' %>"><%= customer.status %></span></td>
            <td><%= customer.primary_contact %></td>
            <td><%= link_to edit_customer_path(customer) do %><%= icon "fa-solid", "pencil" %><% end %></td>
            <td><%= link_to customer_path(customer), data: { turbo_method: :delete, turbo_confirm: "Are you sure?" } do %><%= icon "fa-solid", "trash" %><% end %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
